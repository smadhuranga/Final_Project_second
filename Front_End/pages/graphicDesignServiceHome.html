<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graphic Design Services | UNI Freelancers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="../assets/css/customer/graphicDesign.css" rel="stylesheet">
    
<!--    <style>-->
<!--        :root {-->
<!--            &#45;&#45;bg-black: #000000;-->
<!--            &#45;&#45;text-white: #FFFFFF;-->
<!--            &#45;&#45;accent-yellow: #FFD700;-->
<!--            &#45;&#45;accent-green: #00FF00;-->
<!--        }-->

<!--        body {-->
<!--            background-color: var(&#45;&#45;bg-black);-->
<!--            color: var(&#45;&#45;text-white);-->
<!--            font-family: 'Poppins', sans-serif;-->
<!--            overflow-x: hidden;-->
<!--        }-->

<!--        .navbar {-->
<!--            background-color: rgba(0, 0, 0, 0.95) !important;-->
<!--            backdrop-filter: blur(10px);-->
<!--            transition: all 0.4s ease;-->
<!--        }-->

<!--        .search-input {-->
<!--            background-color: rgba(255, 255, 255, 0.1);-->
<!--            border: 1px solid var(&#45;&#45;accent-yellow);-->
<!--            color: var(&#45;&#45;text-white);-->
<!--            border-radius: 30px;-->
<!--            padding: 12px 20px;-->
<!--            width: 100%;-->
<!--            transition: all 0.3s ease;-->
<!--        }-->

<!--        .search-container {-->
<!--            position: relative;-->
<!--            max-width: 600px;-->
<!--            margin: 0 auto;-->
<!--        }-->

<!--        .btn-search {-->
<!--            position: absolute;-->
<!--            right: 15px;-->
<!--            top: 50%;-->
<!--            transform: translateY(-50%);-->
<!--            background: transparent;-->
<!--            border: none;-->
<!--            color: var(&#45;&#45;accent-yellow);-->
<!--            cursor: pointer;-->
<!--        }-->

<!--        .service-hero {-->
<!--            background: linear-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.7)),-->
<!--                        url('https://source.unsplash.com/random/1920x1080/?graphic-design') center/cover;-->
<!--            height: 70vh;-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            position: relative;-->
<!--            overflow: hidden;-->
<!--        }-->

<!--        .floating {-->
<!--            animation: float 3s ease-in-out infinite;-->
<!--        }-->

<!--        .service-highlight-card {-->
<!--            background: rgba(255, 255, 255, 0.05);-->
<!--            border: 1px solid var(&#45;&#45;accent-yellow);-->
<!--            border-radius: 15px;-->
<!--            padding: 2rem;-->
<!--            margin: 1rem;-->
<!--            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);-->
<!--            position: relative;-->
<!--            overflow: hidden;-->
<!--        }-->

<!--        .service-highlight-card:hover {-->
<!--            transform: translateY(-10px);-->
<!--            box-shadow: 0 15px 30px rgba(255, 215, 0, 0.1);-->
<!--        }-->

<!--        .seller-table-section {-->
<!--            padding: 5rem 0;-->
<!--        }-->

<!--        .filter-container {-->
<!--            background: rgba(255, 255, 255, 0.05);-->
<!--            border-radius: 15px;-->
<!--            padding: 2rem;-->
<!--            margin-bottom: 2rem;-->
<!--            backdrop-filter: blur(10px);-->
<!--        }-->

<!--        .filter-input {-->
<!--            background: rgba(255, 255, 255, 0.1);-->
<!--            border: 1px solid var(&#45;&#45;accent-yellow);-->
<!--            color: white;-->
<!--            border-radius: 25px;-->
<!--            padding: 0.75rem 1.5rem;-->
<!--            transition: all 0.3s ease;-->
<!--            width: 100%;-->
<!--        }-->

<!--        .seller-table {-->
<!--            background: rgba(255, 255, 255, 0.05);-->
<!--            border-radius: 15px;-->
<!--            overflow: hidden;-->
<!--            border-collapse: separate;-->
<!--            border-spacing: 0;-->
<!--            width: 100%;-->
<!--        }-->

<!--        .seller-table thead {-->
<!--            background: linear-gradient(45deg, var(&#45;&#45;accent-yellow), var(&#45;&#45;accent-green));-->
<!--        }-->

<!--        .seller-table th {-->
<!--            padding: 1.5rem;-->
<!--            font-weight: 600;-->
<!--            color: var(&#45;&#45;bg-black);-->
<!--        }-->

<!--        .seller-table td {-->
<!--            padding: 1.25rem;-->
<!--            border-bottom: 1px solid rgba(255, 255, 255, 0.1);-->
<!--            vertical-align: middle;-->
<!--        }-->

<!--        .seller-table tbody tr {-->
<!--            transition: all 0.3s ease;-->
<!--            cursor: pointer;-->
<!--        }-->

<!--        .seller-table tbody tr:hover {-->
<!--            background: rgba(255, 215, 0, 0.05);-->
<!--            transform: translateX(10px);-->
<!--        }-->

<!--        .rating-stars {-->
<!--            color: var(&#45;&#45;accent-yellow);-->
<!--        }-->

<!--        .seller-badge {-->
<!--            background: rgba(0, 255, 0, 0.1);-->
<!--            color: var(&#45;&#45;accent-green);-->
<!--            padding: 0.25rem 0.75rem;-->
<!--            border-radius: 20px;-->
<!--            font-size: 0.85rem;-->
<!--            margin: 2px;-->
<!--            display: inline-block;-->
<!--        }-->

<!--        .portfolio-item {-->
<!--            position: relative;-->
<!--            overflow: hidden;-->
<!--            border-radius: 15px;-->
<!--            transition: all 0.3s ease;-->
<!--        }-->

<!--        .portfolio-item img {-->
<!--            transition: transform 0.3s ease;-->
<!--            width: 100%;-->
<!--            height: 300px;-->
<!--            object-fit: cover;-->
<!--        }-->

<!--        .portfolio-item:hover img {-->
<!--            transform: scale(1.1);-->
<!--        }-->

<!--        .portfolio-overlay {-->
<!--            position: absolute;-->
<!--            top: 0;-->
<!--            left: 0;-->
<!--            width: 100%;-->
<!--            height: 100%;-->
<!--            background: rgba(0,0,0,0.7);-->
<!--            opacity: 0;-->
<!--            transition: all 0.3s ease;-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: center;-->
<!--        }-->

<!--        .portfolio-item:hover .portfolio-overlay {-->
<!--            opacity: 1;-->
<!--        }-->

<!--        .design-process-step {-->
<!--            position: relative;-->
<!--            padding: 2rem;-->
<!--            background: rgba(255,255,255,0.05);-->
<!--            border-radius: 15px;-->
<!--            margin: 2rem 0;-->
<!--            border: 1px solid var(&#45;&#45;accent-yellow);-->
<!--        }-->

<!--        .process-number {-->
<!--            position: absolute;-->
<!--            top: -20px;-->
<!--            left: -20px;-->
<!--            width: 40px;-->
<!--            height: 40px;-->
<!--            background: var(&#45;&#45;accent-yellow);-->
<!--            border-radius: 50%;-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: center;-->
<!--            font-weight: bold;-->
<!--            color: var(&#45;&#45;bg-black);-->
<!--        }-->

<!--        .animate-on-scroll {-->
<!--            opacity: 0;-->
<!--            transform: translateY(30px);-->
<!--            transition: all 0.6s ease;-->
<!--        }-->

<!--        .animate-on-scroll.animated {-->
<!--            opacity: 1;-->
<!--            transform: translateY(0);-->
<!--        }-->

<!--        @keyframes float {-->
<!--            0% { transform: translateY(0px); }-->
<!--            50% { transform: translateY(-20px); }-->
<!--            100% { transform: translateY(0px); }-->
<!--        }-->

<!--        @media (max-width: 768px) {-->
<!--            .seller-table td, .seller-table th {-->
<!--                padding: 1rem;-->
<!--            }-->
<!--            -->
<!--            .service-hero {-->
<!--                height: 50vh;-->
<!--            }-->
<!--            -->
<!--            .display-3 {-->
<!--                font-size: 2.5rem;-->
<!--            }-->
<!--        }-->



<!--        .btn-chat {-->
<!--            background: linear-gradient(45deg, var(&#45;&#45;accent-yellow), var(&#45;&#45;accent-green));-->
<!--            color: var(&#45;&#45;bg-black) !important;-->
<!--            border: none;-->
<!--            transition: all 0.3s ease;-->
<!--        }-->

<!--        .btn-chat:hover {-->
<!--            transform: scale(1.05);-->
<!--            box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);-->
<!--        }-->

<!--        .message {-->
<!--            margin: 10px 0;-->
<!--            display: flex;-->
<!--            flex-direction: column;-->
<!--            max-width: 80%;-->
<!--            animation: messageAppear 0.3s ease;-->
<!--        }-->

<!--        .message.sent {-->
<!--            align-self: flex-end;-->
<!--            align-items: flex-end;-->
<!--        }-->

<!--        .message.received {-->
<!--            align-self: flex-start;-->
<!--            align-items: flex-start;-->
<!--        }-->

<!--        .message-bubble {-->
<!--            padding: 12px 18px;-->
<!--            border-radius: 20px;-->
<!--            background: rgba(255, 215, 0, 0.1);-->
<!--            border: 1px solid var(&#45;&#45;accent-yellow);-->
<!--            backdrop-filter: blur(5px);-->
<!--            position: relative;-->
<!--        }-->

<!--        .message.sent .message-bubble {-->
<!--            background: linear-gradient(45deg, var(&#45;&#45;accent-yellow), var(&#45;&#45;accent-green));-->
<!--            color: var(&#45;&#45;bg-black);-->
<!--        }-->

<!--        .message-time {-->
<!--            font-size: 0.75rem;-->
<!--            color: rgba(255, 255, 255, 0.6);-->
<!--            margin-top: 4px;-->
<!--        }-->

<!--        @keyframes messageAppear {-->
<!--            from { opacity: 0; transform: translateY(10px); }-->
<!--            to { opacity: 1; transform: translateY(0); }-->
<!--        }-->

<!--        .modal-content {-->
<!--            border: 1px solid var(&#45;&#45;accent-yellow);-->
<!--            border-radius: 15px;-->
<!--            transform: translateX(100%);-->
<!--            transition: transform 0.3s ease-out !important;-->
<!--        }-->
<!--    </style>-->
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#"><img src="../images/LOg.png" alt="Logo" style="height: 4rem;"></a>
            
            <div class="d-none d-lg-block flex-grow-1 mx-4">
                <form class="search-container">
                    <input type="text" class="search-input" placeholder="Search services..." id="searchInput">
                    <button type="button" class="btn-search">
                        <i class="fas fa-search"></i>
                    </button>   
                </form>
            </div>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <div class="d-lg-none my-3">
                    <form class="search-container">
                        <input type="text" class="search-input" placeholder="Search...">
                        <button type="button" class="btn-search">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>
                </div>

                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../index.html#home" onclick="showSection('home')">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#services" onclick="showSection('services')">Services</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#contact" onclick="showSection('contact')">Contact</a></li>
                    <li class="nav-item"><a class="nav-link" href="../index.html#about" onclick="showSection('about')">About</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="service-hero">
        <div class="container text-center floating">
            <h1 class="display-3 mb-4 animate-on-scroll">Professional Graphic Design</h1>
            <p class="lead animate-on-scroll">Crafting Visual Identities That Make an Impact</p>
        </div>
    </section>

    <!-- Service Highlights -->
    <section class="py-5" id="services">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4 animate-on-scroll">
                    <div class="service-highlight-card">
                        <i class="fas fa-palette fa-3x mb-3" style="color: var(--accent-yellow);"></i>
                        <h3>Brand Identity</h3>
                        <ul class="list-unstyled">
                            <li>✓ Logo Design</li>
                            <li> ✓ Business Cards</li>
                            <li>✓ Brand Guidelines</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4 animate-on-scroll">
                    <div class="service-highlight-card">
                        <i class="fas fa-images fa-3x mb-3" style="color: var(--accent-yellow);"></i>
                        <h3>Print Design</h3>
                        <ul class="list-unstyled">
                            <li>✓ Brochures</li>
                            <li>✓ Flyers</li>
                            <li>✓ Posters</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-4 animate-on-scroll">
                    <div class="service-highlight-card">
                        <i class="fas fa-desktop fa-3x mb-3" style="color: var(--accent-yellow);"></i>
                        <h3>Digital Design</h3>
                        <ul class="list-unstyled">
                            <li>✓ Social Media Graphics</li>
                            <li>✓ Web Banners</li>
                            <li>✓ Email Templates</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Seller Table Section -->
    <section class="seller-table-section" id="developers">
        <div class="container">
            <h2 class="text-center mb-5 display-4 animate-on-scroll">Top Graphic Designers</h2>
            
            <!-- Filters -->
            <div class="filter-container animate-on-scroll">
                <div class="row g-3">
                    <div class="col-md-4">
                        <input type="number" class="filter-input" placeholder="Min Experience (years)" id="minExp">
                    </div>
                    <div class="col-md-4">
                        <input type="number" class="filter-input" placeholder="Max Hourly Rate ($)" id="maxRate">
                    </div>
                    <div class="col-md-4">
                        <input type="number" class="filter-input" placeholder="Min Projects" id="minProjects">
                    </div>
                </div>
            </div>

            <!-- Table -->
            <div class="table-responsive animate-on-scroll">
                <table class="seller-table">
                    <thead>
                        <tr>
                            <th>Designer</th>
                            <th>Experience</th>
                            <th>Rate/Hour</th>
                            <th>Projects</th>
                            <th>Skills</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="sellersBody">
                        <!-- Data loaded via JS -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Portfolio Gallery -->
    <section class="py-5" id="portfolio">
        <div class="container">
            <h2 class="text-center mb-5 display-4 animate-on-scroll">Our Work</h2>
            <div class="row g-4">
                <div class="col-md-4 animate-on-scroll">
                    <div class="portfolio-item">
                        <img src="https://source.unsplash.com/random/600x400/?logo-design" class="img-fluid" alt="Portfolio Item">
                        <div class="portfolio-overlay">
                            <div class="text-center">
                                <h4>Logo Design</h4>
                                <button class="btn btn-accent mt-3">View Case Study</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 animate-on-scroll">
                    <div class="portfolio-item">
                        <img src="https://source.unsplash.com/random/600x400/?graphic-design" class="img-fluid" alt="Portfolio Item">
                        <div class="portfolio-overlay">
                            <div class="text-center">
                                <h4>Brand Identity Project</h4>
                                <button class="btn btn-accent mt-3">View Case Study</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 animate-on-scroll">
                    <div class="portfolio-item">
                        <img src="https://source.unsplash.com/random/600x400/?print-design" class="img-fluid" alt="Portfolio Item">
                        <div class="portfolio-overlay">
                            <div class="text-center">
                                <h4>Print Design Work</h4>
                                <button class="btn btn-accent mt-3">View Case Study</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Design Process -->
    <section class="py-5 design-process">
        <div class="container">
            <h2 class="text-center mb-5 display-4 animate-on-scroll">Design Process</h2>
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="design-process-step animate-on-scroll">
                        <div class="process-number">1</div>
                        <h4 class="text-yellow">Discovery & Research</h4>
                        <p>Understanding your brand and target audience.</p>
                    </div>
                    <div class="design-process-step animate-on-scroll">
                        <div class="process-number">2</div>
                        <h4 class="text-yellow">Concept Development</h4>
                        <p>Creating initial design concepts based on your vision.</p>
                    </div>
                    <div class="design-process-step animate-on-scroll">
                        <div class="process-number">3</div>
                        <h4 class="text-yellow">Design Refinement</h4>
                        <p>Refining the chosen concept through feedback and revisions.</p>
                    </div>
                    <div class="design-process-step animate-on-scroll">
                        <div class="process-number">4</div>
                        <h4 class="text-yellow">Final Delivery</h4>
                        <p>Delivering the final designs in all required formats.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="chatModal" tabindex="-1" aria-labelledby="chatModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-dark">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title text-yellow" id="chatModalLabel">Chat with <span id="sellerName"></span></h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="chat-container" style="height: 400px; overflow-y: auto;">
                        <div class="chat-messages" id="chatMessages">
                            <!-- Messages will be loaded here -->
                        </div>
                    </div>
                    <div class="input-group mt-3">
                        <input type="text"
                               class="form-control bg-black text-white border-yellow"
                               placeholder="Type your message..."
                               id="messageInput">
                        <button class="btn btn-accent" id="sendMessageBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../assets/js/customer/graphicDesign.js"></script>
<!--    <script>-->
<!--        // Configuration-->
<!--        const API_BASE = 'http://localhost:8080/api/v1/';-->
<!--        let allSellers = [];-->

<!--        // Global AJAX Setup-->
<!--        $.ajaxSetup({-->
<!--            beforeSend: function(xhr) {-->
<!--                const token = localStorage.getItem('jwtToken');-->
<!--                if (token) {-->
<!--                    xhr.setRequestHeader('Authorization', 'Bearer ' + token);-->
<!--                }-->
<!--            }-->
<!--        });-->

<!--        // Authentication Functions-->
<!--        function checkAuthStatus() {-->
<!--            const jwtToken = localStorage.getItem('jwtToken');-->
<!--            if (!jwtToken) {-->
<!--                window.location.href = '../index.html';-->
<!--                return false;-->
<!--            }-->

<!--            try {-->
<!--                const tokenPayload = JSON.parse(atob(jwtToken.split('.')[1]));-->
<!--                if (tokenPayload.exp * 1000 < Date.now()) {-->
<!--                    logout();-->
<!--                    return false;-->
<!--                }-->
<!--                return true;-->
<!--            } catch (error) {-->
<!--                logout();-->
<!--                return false;-->
<!--            }-->
<!--        }-->

<!--        function logout() {-->
<!--            localStorage.removeItem('jwtToken');-->
<!--            localStorage.removeItem('user');-->
<!--            window.location.href = '../index.html';-->
<!--        }-->

<!--        // Seller Management-->
<!--        function fetchSellers() {-->
<!--            if (!checkAuthStatus()) return;-->

<!--            $.ajax({-->
<!--                url: API_BASE + 'admin/users?type=SELLER', // Changed endpoint to get all users-->
<!--                method: 'GET',-->
<!--                success: function(response) {-->
<!--                    if (response.status === 200) {-->
<!--                        // Filter users to only get sellers-->
<!--                        allSellers = processSellerData(response.data.filter(user =>-->
<!--                            user.type === 'SELLER' // Assuming user objects have 'type' property-->
<!--                        ));-->

<!--                        applyFilters();-->
<!--                        initializeFilterHandlers();-->
<!--                    } else {-->
<!--                        showToast(response.message || 'Failed to load sellers', 'danger');-->
<!--                    }-->
<!--                },-->
<!--                error: function(xhr) {-->
<!--                    if (xhr.status === 401) logout();-->
<!--                    showToast('Failed to load sellers: ' + (xhr.responseJSON?.message || xhr.statusText), 'danger');-->
<!--                }-->
<!--            });-->
<!--        }-->

<!--        function processSellerData(apiData) {-->
<!--            return apiData.map(seller => ({-->
<!--                id: seller.email,-->
<!--                name: seller.name,-->
<!--                experience: seller.yearsExperience || 0,-->
<!--                rate: seller.hourlyRate || 0,-->
<!--                projects: seller.completedProjects || 0,-->
<!--                skills: seller.skills || [],-->
<!--                portfolio: seller.portfolioUrl || '#'-->
<!--            }));-->
<!--        }-->

<!--        // function renderSellers(sellers) {-->
<!--        //     const tbody = $('#sellersBody');-->
<!--        //     tbody.empty();-->
<!--        //-->
<!--        //     if (sellers.length === 0) {-->
<!--        //         tbody.html(`<tr><td colspan="6" class="text-center py-4">No sellers found</td></tr>`);-->
<!--        //         return;-->
<!--        //     }-->
<!--        //-->
<!--        //     tbody.html(sellers.map(seller => `-->
<!--        //     <tr class="glow-on-hover">-->
<!--        //         <td>-->
<!--        //             <div class="d-flex align-items-center">-->
<!--        //                 <i class="fas fa-user-tie fa-2x me-3 text-yellow"></i>-->
<!--        //                 <div>-->
<!--        //                     <h5 class="mb-0">${seller.name}</h5>-->
<!--        //                     <small class="text-muted">${seller.experience}+ years experience</small>-->
<!--        //                 </div>-->
<!--        //             </div>-->
<!--        //         </td>-->
<!--        //         <td>${seller.experience} years</td>-->
<!--        //         <td>$${seller.rate}/hr</td>-->
<!--        //         <td>${seller.projects}+</td>-->
<!--        //         <td>-->
<!--        //             ${seller.skills.map(skill => `<span class="seller-badge">${skill}</span>`).join('')}-->
<!--        //         </td>-->
<!--        //         <td>-->
<!--        //              <button class="btn btn-sm btn-outline-primary view-seller"-->
<!--        //                             onclick="viewPortfolio('${seller.id}')">-->
<!--        //                         <i class="fas fa-eye me-1"></i>Portfolio-->
<!--        //                     </button>-->
<!--        //             <button class="btn btn-sm btn-outline-success chat-seller ms-2"-->
<!--        //                             onclick="openChat('${seller.id}')">-->
<!--        //                         <i class="fas fa-comments me-1"></i>Chat-->
<!--        //                     </button>-->
<!--        //         </td>-->
<!--        //     </tr>-->
<!--        // `).join(''));-->
<!--        //-->
<!--        //     initializeEventHandlers();-->
<!--        // }-->



<!--        // Remove the loadChatHistory function completely-->

<!--        // Updated renderSellers to prevent template injection-->
<!--        function renderSellers(sellers) {-->
<!--            const tbody = $('#sellersBody');-->
<!--            tbody.empty();-->

<!--            const safeHTML = sellers.map(seller => {-->
<!--                const safeName = escapeHtml(seller.name);-->
<!--                const safeId = escapeHtml(seller.id);-->
<!--                const safeSkills = seller.skills.map(skill =>-->
<!--                    `<span class="seller-badge">${escapeHtml(skill)}</span>`-->
<!--                ).join('');-->

<!--                return `-->
<!--            <tr class="glow-on-hover">-->
<!--                <td>-->
<!--                    <div class="d-flex align-items-center">-->
<!--                        <i class="fas fa-user-tie fa-2x me-3 text-yellow"></i>-->
<!--                        <div>-->
<!--                            <h5 class="mb-0">${safeName}</h5>-->
<!--                            <small class="text-muted">${seller.experience}+ years experience</small>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </td>-->
<!--                <td>${seller.experience} years</td>-->
<!--                <td>$${seller.rate}/hr</td>-->
<!--                <td>${seller.projects}+</td>-->
<!--                <td>${safeSkills}</td>-->
<!--                <td>-->
<!--                    <button class="btn btn-sm btn-outline-primary view-seller"-->
<!--                            data-seller-id="${safeId}">-->
<!--                        <i class="fas fa-eye me-1"></i>Portfolio-->
<!--                    </button>-->
<!--                    <button class="btn btn-sm btn-outline-success chat-seller ms-2"-->
<!--                            data-seller-id="${safeId}"-->
<!--                            data-seller-name="${safeName}">-->
<!--                        <i class="fas fa-comments me-1"></i>Chat-->
<!--                    </button>-->
<!--                </td>-->
<!--            </tr>-->
<!--        `;-->
<!--            }).join('');-->

<!--            tbody.html(safeHTML);-->
<!--            initializeEventHandlers();-->
<!--        }-->

<!--        // Add HTML escaping utility-->
<!--        function escapeHtml(unsafe) {-->
<!--            return unsafe?.toString()-->
<!--                .replace(/&/g, "&amp;")-->
<!--                .replace(/</g, "&lt;")-->
<!--                .replace(/>/g, "&gt;")-->
<!--                .replace(/"/g, "&quot;")-->
<!--                .replace(/'/g, "&#039;") || '';-->
<!--        }-->

<!--        // Initialize event handlers safely-->
<!--        function initializeEventHandlers() {-->
<!--            // Chat button handler-->
<!--            $(document).off('click', '.chat-seller').on('click', '.chat-seller', function() {-->
<!--                const sellerId = $(this).data('seller-id');-->
<!--                const sellerName = $(this).data('seller-name');-->
<!--                console.log('Chat initiated with:', sellerId, sellerName);-->
<!--                openChat(sellerId, sellerName);-->
<!--            });-->

<!--            // Portfolio button handler-->
<!--            $(document).off('click', '.view-seller').on('click', '.view-seller', function() {-->
<!--                const sellerId = $(this).data('seller-id');-->
<!--                console.log('Viewing portfolio for:', sellerId);-->
<!--                viewPortfolio(sellerId);-->
<!--            });-->
<!--        }-->

<!--        // Rest of the code remains the same as previous version-->
<!--        // [Filter Handling, Event Handlers, Chat System, UI Helpers, Initialization]-->
<!--        // ... (Keep all other functions unchanged from your previous code)-->
<!--        // CORRECTED viewPortfolio function-->
<!--        function viewPortfolio(sellerId) {-->
<!--            // Validate email format-->
<!--            const validEmailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;-->
<!--            if (!validEmailRegex.test(sellerId)) {-->
<!--                showToast('Invalid seller identifier', 'danger');-->
<!--                return;-->
<!--            }-->

<!--            // CORRECT PATH CONSTRUCTION-->
<!--            const encodedId = encodeURIComponent(sellerId);-->
<!--            const portfolioPath = `../pages/portfolio.html?id=${encodedId}`;-->

<!--            // Secure window opening-->
<!--            window.open(portfolioPath, '_blank', 'noopener,noreferrer');-->
<!--        }-->

<!--        // Filter Handling-->
<!--        function initializeFilterHandlers() {-->
<!--            $('#minExp, #maxRate, #minProjects').off('input').on('input', applyFilters);-->
<!--        }-->

<!--        function applyFilters() {-->
<!--            const minExp = parseInt($('#minExp').val()) || 0;-->
<!--            const maxRate = parseInt($('#maxRate').val()) || Infinity;-->
<!--            const minProjects = parseInt($('#minProjects').val()) || 0;-->

<!--            const filtered = allSellers.filter(seller =>-->
<!--                seller.experience >= minExp &&-->
<!--                seller.rate <= maxRate &&-->
<!--                seller.projects >= minProjects-->
<!--            );-->

<!--            renderSellers(filtered);-->
<!--        }-->

<!--        // Event Handlers-->


<!--        // Chat System-->
<!--        let currentChatSeller = null;-->

<!--        async function openChat(sellerId, sellerName) {-->
<!--            if (!checkAuthStatus()) return;-->

<!--            try {-->
<!--                console.log('Sending notification to:', sellerId);-->
<!--                const response = await $.ajax({-->
<!--                    url: API_BASE + 'sellers/notify-chat',-->
<!--                    method: 'POST',-->
<!--                    data: { sellerEmail: sellerId },-->
<!--                    headers: {-->
<!--                        'Authorization': 'Bearer ' + localStorage.getItem('jwtToken')-->
<!--                    }-->
<!--                });-->

<!--                console.log('Notification response:', response);-->
<!--                showToast('Seller has been notified via email', 'success');-->
<!--            } catch (error) {-->
<!--                console.error('Notification failed:', error);-->
<!--                showToast('Notification failed: ' + (error.responseJSON?.message || 'Server error'), 'danger');-->
<!--            }-->

<!--            // Open chat modal-->
<!--            try {-->
<!--                $('#sellerName').text(sellerName);-->
<!--                $('#chatModal').modal('show');-->
<!--                $('#chatMessages').html(`-->
<!--            <div class="text-center text-muted p-3">-->
<!--                <i class="fas fa-envelope fa-2x mb-2"></i>-->
<!--                <p>Notification sent to ${sellerName}</p>-->
<!--                <small>You can start chatting once the seller responds</small>-->
<!--            </div>-->
<!--        `);-->
<!--            } catch (modalError) {-->
<!--                console.error('Error opening modal:', modalError);-->
<!--                showToast('Error opening chat interface', 'danger');-->
<!--            }-->
<!--        }-->



<!--        // UI Helpers-->
<!--        function showToast(message, type = 'success') {-->
<!--            const toast = $(`-->
<!--            <div class="toast align-items-center border-0 bg-${type} position-fixed bottom-0 end-0 m-3">-->
<!--                <div class="d-flex">-->
<!--                    <div class="toast-body text-white">${message}</div>-->
<!--                    <button type="button" class="btn-close btn-close-white me-2 m-auto"-->
<!--                            data-bs-dismiss="toast"></button>-->
<!--                </div>-->
<!--            </div>-->
<!--        `);-->
<!--            $('body').append(toast);-->
<!--            new bootstrap.Toast(toast[0]).show();-->
<!--            setTimeout(() => toast.remove(), 3000);-->
<!--        }-->


<!--        // Initialization-->
<!--        $(document).ready(function() {-->
<!--            if (checkAuthStatus()) {-->
<!--                fetchSellers();-->
<!--                initializeScrollAnimations();-->
<!--                initializeEventHandlers(); // Initialize all event handlers once-->


<!--            }-->
<!--        });-->

<!--        function initializeScrollAnimations() {-->
<!--            const observer = new IntersectionObserver((entries) => {-->
<!--                entries.forEach(entry => {-->
<!--                    if (entry.isIntersecting) {-->
<!--                        entry.target.classList.add('animated');-->
<!--                    }-->
<!--                });-->
<!--            }, { threshold: 0.1 });-->

<!--            document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));-->
<!--        }-->

<!--        // Error Handling-->
<!--        $(document).ajaxError(function(event, jqXHR) {-->
<!--            if (jqXHR.status === 401) logout();-->
<!--        });-->

<!--    </script>-->

</body>
</html>